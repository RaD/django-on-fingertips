****************
Создание проекта
****************

К созданию проекта можно приступать после выполнения следующих шагов:

* :ref:`virtualenv_create`;
* :ref:`virtualenv_activate`;
* :ref:`dependencies_install`.

Для создания проекта следует в корне проекта выполнить команду::

    django-admin.py startproject src

В результате выполнения этой команды в корне проекта будет создана следующия структура файлов::

    src/
      __init__.py
      manage.py
      settings.py
      urls.py

Все эти файлы следует подключить к системе контроля версий, но делать это
следует лишь после подготовки конфигурационных файлов.

==================================
Подготовка конфигурационных файлов
==================================

В проекте должно быть три конфигурационных файла:

* :file:`settings.py` -- главный конфигурационный файл, из которого убраны вся
  секретная информация;
* :file:`settings_local.py` -- локальный конфигурационный файл, который содержит всю
  секретную информацию, этот файл не должен подключаться к системе контроля
  версий;
* :file:`settings_test.py` -- тестовый конфигурационный файл, используется для
  тестирования проекта.

----------------------
Подготовка settings.py
----------------------

Копируем :file:`settings.py` в :file:`settings_local.py` и приступаем к
удалению секретных данных.

* Настраиваем базу данных на использование `sqlite`, в большинстве случаев
  возможностей этого движка хватит на многое::

    DATABASES = {
        'default': {
            'ENGINE': 'django.db.backends.sqlite3',
            'NAME': 'database.sqlite',
            'USER': '',
            'PASSWORD': '',
            'HOST': ''
            'PORT': '',
        }
    }

* Настраиваем временную зону и язык::

    TIME_ZONE = 'Europe/Moscow'
    LANGUAGE_CODE = 'ru'

* Удаляем строку с `SECRET_KEY`.

* Преобразовываем строку с `ROOT_URLCONF` в::

    ROOT_URLCONF = 'urls'

* Дописываем в конец файла::

    try:
        from settings_local import *
    except ImportError:
        pass

----------------------------
Подготовка settings_local.py
----------------------------

* Удаляем из файла всё, кроме строки с `SECRET_KEY`.

----------------------------
Подготовка settings_test.py
----------------------------

.. note:: Эта часть будет дописана вместе с главой о тестировании.
